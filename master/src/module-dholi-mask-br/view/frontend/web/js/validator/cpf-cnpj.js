define(["jquery","Dholi_Core/js/masks"],function(c,d){var a=null;c.fn.cpfcnpj=function(i){var f=c.extend({mask:false,validate:"cpfcnpj",event:"focusout",handler:c(this),ifValid:null,ifInvalid:null},i);if(f.mask){if(c().mask==null){f.mask=false}else{if(f.validate=="cpf"){c(this).mask("000.000.000-00")}else{if(f.validate=="cnpj"){c(this).mask("00.000.000/0000-00")}else{var h=c(this);var g=["000.000.000-009","00.000.000/0000-00"];var k=(h.val().length>14)?g[1]:g[0];var j={onKeyPress:function(l){k=(l.length>14)?g[1]:g[0];h.mask(k,this)}};c(this).mask(k,j)}}}}return this.each(function(){var m=null;var l=c(this);c(document).on(f.event,f.handler,function(){if(l.val().length==14||l.val().length==18){if(f.validate=="cpf"){m=b(l.val())}else{if(f.validate=="cnpj"){m=e(l.val())}else{if(f.validate=="cpfcnpj"){if(b(l.val())){m=true;a="cpf"}else{if(e(l.val())){m=true;a="cnpj"}else{m=false}}}}}}else{m=false}if(c.isFunction(f.ifValid)){if(m!=null&&m){if(c.isFunction(f.ifValid)){var n=c.Callbacks();n.add(f.ifValid);n.fire(l)}}else{if(c.isFunction(f.ifInvalid)){f.ifInvalid(l)}}}})})};function e(g){if(g==""){return false}var h=[6,5,4,3,2,9,8,7,6,5,4,3,2];if((g=g.replace(/[^\d]/g,"").split("")).length!=14){return false}for(var i=0,f=0;i<12;f+=g[i]*h[++i]){}if(g[12]!=(((f%=11)<2)?0:11-f)){return false}for(var i=0,f=0;i<=12;f+=g[i]*h[i++]){}if(g[13]!=(((f%=11)<2)?0:11-f)){return false}return true}function b(g){if(g==""){return false}if((g=g.replace(/[^\d]/g,"").split("")).length!=11){return false}if(new RegExp("^"+g[0]+"{11}$").test(g.join(""))){return false}for(var i=10,f=0,h=0;i>=2;f+=g[h++]*i--){}if(g[9]!=(((f%=11)<2)?0:11-f)){return false}for(var i=11,f=0,h=0;i>=2;f+=g[h++]*i--){}if(g[10]!=(((f%=11)<2)?0:11-f)){return false}return true}});